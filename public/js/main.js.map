{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["$( document ).ready(function($){\n\t// Materialize Setup\n\t$(\".button-collapse\").sideNav();\n\t$('.modal-trigger').leanModal();\n\n\t$('.datepicker').pickadate({\n\t    selectMonths: true, // Creates a dropdown to control month\n\t    selectYears: 15, // Creates a dropdown of 15 years to control year\n\t    format: 'yyyy-mm-dd' // Formats the date\n\t});\n        \n\t$('select').material_select();\n});\n\nfunction updateProgressBar( elementId, newValue ){\n\t$('#'+elementId).width(newValue + \"%\");\n}\n\n/* INSTALL FORM FUNCTIONS */\n\n/**\n * Post form data from personalDetails section of form\n */\nfunction createUser( ){\n\tvar formData = new FormData($('#personalDetails-form')[0]);\n\t$.ajax({\n\t\turl: '/api/install/createuser',\n\t\ttype: 'post',\n\t\tcache: false,\n        contentType: false,\n        processData: false,\n        data: formData,\t\n        beforeSend: function( ){\n        \t$('#personal-details-errors').empty();\n        },\n\t\tsuccess: function(data) {\n\t\t\tif( data.errors ){\n\t\t\t\t// If we have validation errors, display them\n\t\t\t\tdata.errors.forEach( function( error ){\n\t\t\t\t\t$('#personal-details-errors').append('<li>'+error+'</li>');\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Otherwise, move to the next section\n\t\t\t\tmoveToSection( 'companyDetails', 3, 4 );\n\t\t\t\tautofillInformation( );\n\t\t\t}\n\t\t},\n\t});\n}\n\n/**\n * Move the tab focus to the specified section\n * @param  {string} sectionId     ID of the section to focus\n * @param  {int} \tsectionNumber Number of current section\n * @param  {int} \ttotalSections Total number of sections\n */\nfunction moveToSection( sectionId, sectionNumber, totalSections, fromBackButton ){\n\tif( window.location.hash != '#' + sectionId || fromBackButton ){\n\t\tif( !fromBackButton ){\n\t\t\twindow.history.pushState({},\"\", \"#\"+sectionId);\n\t\t}\n\t\t$('ul.tabs').tabs('select_tab', sectionId);\n\t\tupdateProgressBar('progressBar', (100/totalSections) * (sectionNumber - 1) );\n\t}\n}\n\n/**\n * When a user reloads the page, ensure the progress bar is\n * at the correct position\n */\nfunction checkProgress( ){\n\tswitch( window.location.hash ){\n\t\tcase '#personalDetails':\n\t\t\tupdateProgressBar( 'progressBar', 25 );\n\t\t\tbreak;\n\n\t\tcase '#companyDetails':\n\t\t\tupdateProgressBar( 'progressBar', 50 );\n\t\t\tbreak;\n\n\t\tcase '#firstEvent':\n\t\t\tupdateProgressBar( 'progressBar', 75 );\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tupdateProgressBar( 'progressBar', 0 );\n\t\t\tbreak;\n\t}\n}\n\nfunction autofillInformation( ){\n\t$.ajax({\n\t\turl: '/api/install/getInstallUserInfo',\n\t\ttype: 'get',\n\t\tcache: false,\n        contentType: false,\n        processData: false,\n        beforeSend: function( ){\n        \t\n        },\n\t\tsuccess: function(data) {\n\t\t\tfor( var key in data ){\n\n\t\t\t\tif( key == 'profile_picture' ){\n\t\t\t\t\t$('#profle-picture-preview').attr( 'src', data.profile_picture );\n\t\t\t\t} else{\n\t\t\t\t\t$('[name='+key+']').val( data[key] );\n\n\t\t\t\t\t// registers as filled with materializecss\n\t\t\t\t\t$('label[for='+key+']').addClass('active');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t});\n}"],"sourceRoot":"/source/"}